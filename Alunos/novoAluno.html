<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Novo Aluno - Plataforma Libertar</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    
    <link rel="stylesheet" href="../assets/css/style.css">
</head>
<body class="dashboard-body no-scroll"> 
    <div class="wrapper">
        
        <aside class="sidebar">
            <div class="sidebar-logo-area">
                <img src="../assets/img/libertar-logo.jpg" alt="Logo Libertar">
            </div>

            <ul class="sidebar-menu">
                <li><a href="../dashboard.html"><i class="bi bi-grid-1x2-fill"></i> Início</a></li>
                
                <li class="dropdown-hover">
                    <a href="javascript:void(0)" class="active">
                        <i class="bi bi-people-fill"></i> Alunos
                    </a>
                    <ul class="submenu" style="max-height: 250px;">
                        <li><a href="novoAluno.html" style="font-weight: bold; color: var(--side-logo-bg) !important;"><i class="bi bi-plus-lg"></i> Novo Aluno</a></li>
                        <li><a href="consultaAluno.html"><i class="bi bi-search"></i> Localizar Aluno</a></li>
                        <li><a href="transferenciaAluno.html"><i class="bi bi-arrow-left-right"></i> Transferência de Polo</a></li>
                    </ul>
                </li>

                <li><a href="../presenca.html"><i class="bi bi-calendar-check-fill"></i> Presença</a></li>
                <li><a href="../administracao.html"><i class="bi bi-gear-fill"></i> Administração</a></li>
                
                <li class="mt-auto"><a href="../index.html" class="logout-link"><i class="bi bi-box-arrow-left"></i> Sair</a></li>
            </ul>
        </aside>

        <main class="main-content">
            
            <h1 class="user-greeting">CADASTRAR ALUNO</h1>

            <div class="dash-card d-flex flex-column justify-content-between">
                
                <form class="custom-form flex-grow-1">
                    
                    <div class="row g-3 mb-3">
                        <div class="col-md-2">
                            <label class="form-label">Matrícula <span class="text-danger">*</span></label>
                            <input type="text" class="form-control dash-input" placeholder="Ex: 12345" disabled>
                        </div>
                        <div class="col-md-5">
                            <label class="form-label">Polo <span class="text-danger">*</span></label>
                            <select class="form-select dash-input">
                                <option selected disabled>Selecione o polo...</option>
                                <option>Polo Central</option>
                                <option>Polo Norte</option>
                            </select>
                        </div>
                        <div class="col-md-5">
                            <label class="form-label">Turma <span class="text-danger">*</span></label>
                            <select class="form-select dash-input">
                                <option selected disabled>Selecione a turma...</option>
                                <option>Turma A - Manhã</option>
                                <option>Turma B - Tarde</option>
                            </select>
                        </div>
                    </div>

                    <div class="row g-3 mb-3">
                        <div class="col-md-6">
                            <label class="form-label">Nome Completo (Civil) <span class="text-danger">*</span></label>
                            <input type="text" class="form-control dash-input" placeholder="Digite o nome completo">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Nome Social</label>
                            <input type="text" class="form-control dash-input" placeholder="Como prefere ser chamado (opcional)">
                        </div>
                    </div>

                    <div class="row g-3 mb-3">
                        <div class="col-md-3">
                            <label class="form-label">CPF <span class="text-danger">*</span></label>
                            <input type="text" id="cpf" class="form-control dash-input" placeholder="000.000.000-00">
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">RG</label>
                            <input type="text" id="rg" class="form-control dash-input" placeholder="00.000.000-0">
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Data de Nascimento</label>
                            <input type="date" class="form-control dash-input" max="9999-12-31">
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Gênero</label>
                            <select class="form-select dash-input">
                                <option selected disabled>Selecione...</option>
                                <option>Masculino</option>
                                <option>Feminino</option>
                                <option>Não-binário</option>
                                <option>Prefiro não informar</option>
                            </select>
                        </div>
                    </div>

                    <div class="row g-3 mb-4">
                        <div class="col-md-4">
                            <label class="form-label">Celular</label>
                            <input type="tel" id="celular" class="form-control dash-input" placeholder="(00) 00000-0000">
                        </div>
                        <div class="col-md-8">
                            <label class="form-label">E-mail</label>
                            <input type="email" class="form-control dash-input" placeholder="exemplo@email.com">
                        </div>
                    </div>

                </form>

                <div class="d-flex justify-content-end gap-3 mt-auto pt-3" style="border-top: 1px solid rgba(89, 84, 79, 0.2);">
                    <button type="button" class="btn btn-cancelar">Cancelar</button>
                    <button type="button" class="btn btn-salvar">Salvar Cadastro</button>
                </div>

            </div>

        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const inputCpf = document.getElementById('cpf');
            const inputRg = document.getElementById('rg');
            const inputCelular = document.getElementById('celular');

            // Máscara CPF: Trava nos exatos 11 caracteres para evitar formatações erradas
            inputCpf.addEventListener('input', function (e) {
                let v = e.target.value.replace(/\D/g, ""); // Apenas números
                v = v.substring(0, 11); // Trava em 11
                
                if (v.length > 9) {
                    v = v.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, "$1.$2.$3-$4");
                } else if (v.length > 6) {
                    v = v.replace(/(\d{3})(\d{3})(\d{1,3})/, "$1.$2.$3");
                } else if (v.length > 3) {
                    v = v.replace(/(\d{3})(\d{1,3})/, "$1.$2");
                }
                e.target.value = v;
            });

            // Máscara RG: Limita em 9, permitindo número e o "X" comum em RGs
            inputRg.addEventListener('input', function (e) {
                let v = e.target.value.toUpperCase().replace(/[^\dX]/g, ""); // Números e X
                v = v.substring(0, 9); // Trava em 9
                
                if (v.length > 8) {
                    v = v.replace(/(\d{2})(\d{3})(\d{3})([\dX])/, "$1.$2.$3-$4");
                } else if (v.length > 5) {
                    v = v.replace(/(\d{2})(\d{3})(\d{1,3})/, "$1.$2.$3");
                } else if (v.length > 2) {
                    v = v.replace(/(\d{2})(\d{1,3})/, "$1.$2");
                }
                e.target.value = v;
            });

            // Máscara Celular: Trava exato (11 dígitos)
            inputCelular.addEventListener('input', function (e) {
                let v = e.target.value.replace(/\D/g, ""); 
                v = v.substring(0, 11); 
                
                if (v.length > 10) {
                    v = v.replace(/^(\d{2})(\d{5})(\d{4})/, "($1) $2-$3");
                } else if (v.length > 6) {
                    v = v.replace(/^(\d{2})(\d{4})(\d{0,4})/, "($1) $2-$3");
                } else if (v.length > 2) {
                    v = v.replace(/^(\d{2})(\d{0,5})/, "($1) $2");
                }
                e.target.value = v;
            });
        });
    </script>
</body>
</html>